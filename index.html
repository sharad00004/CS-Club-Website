<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Club | IIITDM Kancheepuram</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ScrollReveal JS CDN -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!-- === ADD THIS SCRIPT FOR DARK MODE TOGGLE === -->
    <script>
        // Tell Tailwind CSS to use the 'class' strategy for dark mode
        tailwind.config = {
          darkMode: 'class',
        }
    </script>

    <!-- Google Fonts (Montserrat Variable) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <style>
        /* Define custom font and colors for easier use */
        body {
            font-family: 'Montserrat', sans-serif;
        }
        .text-primary-blue { color: #0047AB; }
        .bg-primary-blue { background-color: #0047AB; }
        .border-primary-blue { border-color: #0047AB; }
        
        .text-primary-cyan { color: #00AEEF; }
        .bg-primary-cyan { background-color: #00AEEF; }
        .border-primary-cyan { border-color: #00AEEF; }

        .bg-primary-yellow { background-color: #FFF200; }
        .text-primary-yellow { color: #FFF200; }
        .border-primary-yellow { border-color: #FFF200; }

        /* Style for the background canvas */
        #background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place it behind all other content */
        }

        /* Proximity/Pressure effect style */
        .proximity-heading {
            display: inline-block; /* Required for proper letter positioning */
        }
        .proximity-heading span {
            display: inline-block;
            transition: font-variation-settings 0.1s linear;
        }
        
        /* Pixel card hover effect */
        .pixel-card {
            position: relative;
            transition: transform 0.3s ease;
        }
        .pixel-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0.75rem; /* Corresponds to rounded-xl */
            box-shadow: 0 0 0 0 rgba(0, 174, 239, 0.5);
            transition: box-shadow 0.3s ease-out;
            pointer-events: none; /* Make sure it doesn't interfere with mouse events */
        }
        .pixel-card.cyan:hover::before {
             box-shadow: 
                0 0 0 2px #FFF200,
                4px 4px 0 2px #FFF200,
                -4px -4px 0 2px #FFF200,
                4px -4px 0 2px #FFF200,
                -4px 4px 0 2px #FFF200;
        }
        .pixel-card.yellow:hover::before {
             box-shadow: 
                0 0 0 2px #0047AB,
                4px 4px 0 2px #0047AB,
                -4px -4px 0 2px #0047AB,
                4px -4px 0 2px #0047AB,
                -4px 4px 0 2px #0047AB;
        }

        /* New Cover Flow Gallery Styles */
        .gallery-container {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            cursor: grab;
            user-select: none;
        }
        .gallery-track {
            display: flex;
            align-items: center;
            height: 100%;
            position: absolute;
            left: 50%; /* Center the track initially */
        }
        .gallery-item {
            flex-shrink: 0;
            width: 320px;
            height: 240px;
            margin: 0 20px;
            border-radius: 1rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: transform 0.5s ease, opacity 0.5s ease;
            overflow: hidden;
        }
        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none; /* Prevents image drag interference */
        }
    </style>
</head>

<body class="bg-white dark:bg-gray-900">
    
    <!-- Background Canvas -->
    <canvas id="background-canvas"></canvas>

    <!-- =========== Navbar =========== -->
    <header class="fixed top-0 left-0 w-full z-50 bg-white/90 dark:bg-gray-900/80 backdrop-blur-sm shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-3">
                <!-- === PUT YOUR LOGO FILE PATH HERE === -->
                <img src="assets/logo.png" alt="CS Club Logo" class="h-12 w-auto" onerror="this.onerror=null;this.src='https://placehold.co/100x100/0047AB/FFF?text=Logo';">
                <span class="text-primary-blue dark:text-gray-100 font-bold text-lg hidden sm:block">CS Club IIITDM</span>
            </a>
            <!-- Links and Theme Toggle -->
            <div class="flex items-center space-x-4">
                <div class="hidden md:flex items-center space-x-8 text-lg">
                    <a href="#wings" class="text-primary-blue dark:text-gray-200 hover:text-primary-cyan dark:hover:text-primary-cyan transition-colors font-semibold">Wings</a>
                    <a href="#leaderboard" class="text-primary-blue dark:text-gray-200 hover:text-primary-cyan dark:hover:text-primary-cyan transition-colors font-semibold">Leaderboard</a>
                    <a href="#gallery" class="text-primary-blue dark:text-gray-200 hover:text-primary-cyan dark:hover:text-primary-cyan transition-colors font-semibold">Gallery</a>
                </div>
                <!-- Theme Toggle Button -->
                <button id="theme-toggle" type="button" class="text-primary-blue dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none rounded-lg text-sm p-2.5">
                    <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                    <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05a1 1 0 010-1.414l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414 0zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                </button>
                 <!-- CTA Button -->
                <a href="#contact" class="hidden md:block bg-primary-cyan hover:bg-opacity-90 text-white font-bold py-2 px-5 rounded-lg transition-transform hover:scale-105">
                    Follow Us
                </a>
            </div>
        </nav>
    </header>

    <main class="pt-20">

        <!-- =========== Hero Section =========== -->
        <section class="container mx-auto px-6 pt-16 pb-20 text-center">
            <h1 data-text="CS Club IIITDM Kancheepuram" class="proximity-heading text-5xl md:text-6xl font-extrabold text-primary-blue dark:text-white mb-4 cursor-pointer"></h1>
            <p id="typing-text" class="text-lg md:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-8 min-h-[56px]"></p>
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                 <a href="#leaderboard" class="bg-primary-cyan text-white font-bold py-3 px-8 rounded-lg text-lg w-full sm:w-auto inline-block transition-transform hover:scale-105">
                    View Leaderboard
                </a>
                 <a href="#contact" class="bg-primary-yellow text-primary-blue font-bold py-3 px-8 rounded-lg text-lg w-full sm:w-auto inline-block transition-transform hover:scale-105">
                    Follow Our Socials
                </a>
            </div>
        </section>

        <!-- =========== Our Wings Section =========== -->
        <section id="wings" class="bg-gray-50 dark:bg-gray-800 py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 reveal">
                    <h2 data-text="Our Five Wings" class="proximity-heading text-4xl font-bold text-primary-blue dark:text-white"></h2>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">The core domains that drive our club's activities.</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8">
                    <!-- Wing 1: CP -->
                    <div class="bg-primary-cyan text-center p-8 rounded-xl shadow-lg reveal pixel-card cyan">
                        <h3 class="text-3xl font-bold text-white mb-2">CP</h3>
                        <p class="text-white/80">Competitive Programming</p>
                    </div>
                    <!-- Wing 2: EdITH -->
                    <div class="bg-primary-yellow dark:bg-yellow-400 text-center p-8 rounded-xl shadow-lg reveal pixel-card yellow">
                        <h3 class="text-3xl font-bold text-primary-blue dark:text-gray-900 mb-2">EdITH</h3>
                        <p class="text-primary-blue/80 dark:text-gray-900/80">Educating in Information Technology and Hardware</p>
                    </div>
                    <!-- Wing 3: PRIT -->
                    <div class="bg-primary-cyan text-center p-8 rounded-xl shadow-lg reveal pixel-card cyan">
                        <h3 class="text-3xl font-bold text-white mb-2">PRIT</h3>
                        <p class="text-white/80">Project, Research & Innovation</p>
                    </div>
                    <!-- Wing 4: AI -->
                    <div class="bg-primary-yellow dark:bg-yellow-400 text-center p-8 rounded-xl shadow-lg reveal pixel-card yellow">
                        <h3 class="text-3xl font-bold text-primary-blue dark:text-gray-900 mb-2">AI</h3>
                        <p class="text-primary-blue/80 dark:text-gray-900/80">Artificial Intelligence</p>
                    </div>
                    <!-- Wing 5: Networking -->
                    <div class="bg-primary-cyan text-center p-8 rounded-xl shadow-lg reveal pixel-card cyan">
                        <h3 class="text-3xl font-bold text-white mb-2">Networking</h3>
                        <p class="text-white/80">Industry & Peer Connections</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- =========== Leaderboard Section =========== -->
        <section id="leaderboard" class="container mx-auto px-6 py-20 reveal">
            <div class="text-center mb-12">
                <h2 data-text="Club Leaderboard" class="proximity-heading text-4xl font-bold text-primary-blue dark:text-white"></h2>
                <p class="text-gray-600 dark:text-gray-300 mt-2">Ranking based on GitHub contributions and platform ratings.</p>
            </div>
            <div class="max-w-4xl mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-xl border border-gray-200 dark:border-gray-700">
                <!-- Header -->
                <div class="grid grid-cols-4 sm:grid-cols-5 p-4 text-gray-500 dark:text-gray-400 font-bold border-b border-gray-200 dark:border-gray-700">
                    <div class="text-center">Rank</div>
                    <div class="col-span-2 sm:col-span-2">Name</div>
                    <div class="text-center hidden sm:block">GitHub</div>
                    <div class="text-center">Ratings</div>
                </div>
                <!-- Rows -->
                <div class="divide-y divide-gray-200 dark:divide-gray-700">
                    <!-- Sample Row 1 -->
                    <div class="grid grid-cols-4 sm:grid-cols-5 p-4 items-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                        <div class="text-center font-bold text-lg text-primary-blue dark:text-primary-cyan">1</div>
                        <div class="col-span-2 sm:col-span-2 font-semibold text-gray-800 dark:text-gray-200">Aarav Patel</div>
                        <div class="text-center hidden sm:block text-green-600 dark:text-green-400">500+</div>
                        <div class="text-center font-bold text-primary-cyan">2100</div>
                    </div>
                    <!-- Sample Row 2 -->
                    <div class="grid grid-cols-4 sm:grid-cols-5 p-4 items-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                        <div class="text-center font-bold text-lg text-primary-blue dark:text-primary-cyan">2</div>
                        <div class="col-span-2 sm:col-span-2 font-semibold text-gray-800 dark:text-gray-200">Priya Sharma</div>
                        <div class="text-center hidden sm:block text-green-600 dark:text-green-400">450+</div>
                        <div class="text-center font-bold text-primary-cyan">2050</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- =========== Latest Updates Section =========== -->
        <section id="updates" class="bg-white dark:bg-gray-900 py-20 reveal">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 data-text="Latest Updates" class="proximity-heading text-4xl font-bold text-primary-blue dark:text-white"></h2>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">Stay informed about our recent activities and announcements.</p>
                </div>
                <div class="max-w-3xl mx-auto space-y-6">
                    <!-- Update Item 1 -->
                    <div class="bg-gray-50 dark:bg-gray-800 border-l-4 border-primary-cyan p-6 rounded-r-lg shadow-sm pixel-card cyan">
                        <h3 class="font-bold text-xl text-primary-blue dark:text-white mb-1">We're Back! First Club Meet of the Semester</h3>
                        <p class="text-gray-700 dark:text-gray-300">The CS Club is back in action! We had a fantastic first meeting to kick off the semester. Stay tuned for a year full of exciting events, workshops, and contests!</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Posted on: August 3, 2025</p>
                    </div>
                    <!-- Update Item 2 -->
                    <div class="bg-gray-50 dark:bg-gray-800 border-l-4 border-primary-yellow p-6 rounded-r-lg shadow-sm pixel-card yellow">
                        <h3 class="font-bold text-xl text-primary-blue dark:text-white mb-1">New Blog Post on Medium!</h3>
                        <p class="text-gray-700 dark:text-gray-300">We've just published our first technical article on Medium! Check it out to learn about the latest trends in web development. <a href="#" class="text-primary-cyan underline">Read it here.</a></p>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Posted on: August 1, 2025</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- =========== Gallery Section =========== -->
        <section id="gallery" class="bg-gray-50 dark:bg-gray-800 py-20 reveal">
            <div class="container mx-auto">
                <div class="text-center mb-12">
                    <h2 data-text="Event Gallery" class="proximity-heading text-4xl font-bold text-primary-blue dark:text-white"></h2>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">A glimpse into our workshops, contests, and fun events.</p>
                </div>
                <div id="gallery-container" class="gallery-container">
                    <div id="gallery-track" class="gallery-track">
                        <!-- Images will be injected here by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- =========== Footer / Contact =========== -->
    <footer id="contact" class="bg-primary-blue relative pt-20">
        <div class="absolute top-0 left-0 w-full overflow-hidden leading-none" >
            <svg class="relative block w-full h-[60px] sm:h-[100px]" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="fill-current text-gray-50 dark:text-gray-800"></path>
            </svg>
        </div>
        <div class="container mx-auto px-6 py-12 text-center text-gray-300">
             <h2 data-text="Follow Us" class="proximity-heading text-3xl font-bold text-white mb-4"></h2>
             <p class="text-lg text-white/80 max-w-2xl mx-auto mb-8">
                 Stay connected and get the latest updates from our club!
             </p>
            <div class="flex justify-center space-x-6 mb-8">
                <a href="#" class="text-white/80 hover:text-white transition-transform hover:scale-110">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"/></svg>
                </a>
                <a href="#" class="text-white/80 hover:text-white transition-transform hover:scale-110">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919 1.266-.057 1.644-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.359 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.947s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg>
                </a>
                <a href="#" class="text-white/80 hover:text-white transition-transform hover:scale-110">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
            </div>
            <p>&copy; 2025 CS Club IIITDM Kancheepuram. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // JavaScript for Theme Toggle
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        const htmlEl = document.documentElement;

        const toggleTheme = () => {
            htmlEl.classList.toggle('dark');
            const isDark = htmlEl.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateIcons();
        };

        const updateIcons = () => {
            if (htmlEl.classList.contains('dark')) {
                themeToggleLightIcon.classList.remove('hidden');
                themeToggleDarkIcon.classList.add('hidden');
            } else {
                themeToggleLightIcon.classList.add('hidden');
                themeToggleDarkIcon.classList.remove('hidden');
            }
        };

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            if (savedTheme === 'dark') htmlEl.classList.add('dark');
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            htmlEl.classList.add('dark');
        }
        updateIcons();
        themeToggleBtn.addEventListener('click', toggleTheme);

        // JavaScript for Animated Square Background
        const bgCanvas = document.getElementById('background-canvas');
        const bgCtx = bgCanvas.getContext('2d');
        let squares = [];
        const squareCount = 30;
        const squareSize = 40;
        const speed = 0.5;

        function resizeBgCanvas() {
            bgCanvas.width = window.innerWidth;
            bgCanvas.height = window.innerHeight;
        }

        class Square {
            constructor(x, y, dx, dy, size) {
                this.x = x; this.y = y; this.dx = dx; this.dy = dy; this.size = size;
            }
            draw() {
                const isDark = document.documentElement.classList.contains('dark');
                bgCtx.strokeStyle = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 71, 171, 0.1)';
                bgCtx.lineWidth = 2;
                bgCtx.strokeRect(this.x, this.y, this.size, this.size);
            }
            update() {
                if (this.x > bgCanvas.width + this.size) this.x = -this.size;
                if (this.y > bgCanvas.height + this.size) this.y = -this.size;
                this.x += this.dx; this.y += this.dy;
                this.draw();
            }
        }

        function initSquares() {
            squares = [];
            for (let i = 0; i < squareCount; i++) {
                const x = Math.random() * bgCanvas.width;
                const y = Math.random() * bgCanvas.height;
                const dx = speed; const dy = speed;
                squares.push(new Square(x, y, dx, dy, squareSize));
            }
        }

        function animateSquares() {
            requestAnimationFrame(animateSquares);
            bgCtx.clearRect(0, 0, bgCanvas.width, bgCanvas.height);
            squares.forEach(square => square.update());
        }

        window.addEventListener('resize', () => { resizeBgCanvas(); initSquares(); });
        resizeBgCanvas();
        initSquares();
        animateSquares();

        // Variable Proximity Text Effect
        const allLetterSpans = [];
        const mousePos = { x: -9999, y: -9999 };
        
        function initProximityHeadings() {
            document.querySelectorAll('.proximity-heading').forEach(heading => {
                const text = heading.dataset.text;
                const letters = text.split('');
                heading.textContent = '';
                letters.forEach(letter => {
                    const span = document.createElement('span');
                    span.textContent = letter;
                    if (letter === ' ') span.style.width = '0.5em'; // Give space characters a width
                    heading.appendChild(span);
                    allLetterSpans.push(span);
                });
            });
        }

        document.addEventListener('mousemove', e => {
            mousePos.x = e.clientX;
            mousePos.y = e.clientY;
        });

        function animateProximity() {
            allLetterSpans.forEach(span => {
                const { left, top, width, height } = span.getBoundingClientRect();
                const centerX = left + width / 2;
                const centerY = top + height / 2;
                const distance = Math.sqrt(Math.pow(centerX - mousePos.x, 2) + Math.pow(centerY - mousePos.y, 2));
                const radius = 150;

                if (distance < radius) {
                    const falloff = 1 - (distance / radius); // Linear falloff
                    const weight = 400 + (500 * falloff); // From 400 to 900
                    const fontWidth = 100 + (25 * falloff); // From 100 to 125
                    span.style.fontVariationSettings = `'wght' ${weight}, 'wdth' ${fontWidth}`;
                } else {
                    span.style.fontVariationSettings = `'wght' 800, 'wdth' 100`;
                }
            });
            requestAnimationFrame(animateProximity);
        }

        initProximityHeadings();
        animateProximity();


        // Typing Effect
        const typingTextElement = document.getElementById('typing-text');
        const textToType = "The official hub for all things tech, code, and innovation on campus.";
        let typeIndex = 0;
        typingTextElement.innerHTML = "";
        function type() {
            if (typeIndex < textToType.length) {
                typingTextElement.innerHTML += textToType.charAt(typeIndex);
                typeIndex++;
                setTimeout(type, 50);
            }
        }
        type();

        // Scroll Reveal Effect
        ScrollReveal({
            reset: true, // Makes the animation trigger every time
            distance: '50px',
            duration: 1000,
            easing: 'ease-in-out'
        });

        ScrollReveal().reveal('.reveal', {
            delay: 200,
            origin: 'bottom',
            interval: 150
        });

        // Cover Flow Gallery
        const galleryContainer = document.getElementById('gallery-container');
        const galleryTrack = document.getElementById('gallery-track');
        if (galleryTrack) {
            const images = [
                'assets/CS CLUB (3).jpeg', 'assets/CS CLUB (4).jpeg', 'assets/CS CLUB (8).jpg',
                'assets/2.jpg', 'assets/CS CLUB (5).jpeg', 'assets/DSC_0617.JPG'
            ];
            
            const galleryItems = [];
            let totalWidth = 0;
            const itemWidth = 320;
            const itemMargin = 40;

            images.forEach(url => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                const img = document.createElement('img');
                img.src = url;
                img.alt = 'gallery image';
                img.className = 'gallery-img';
                img.onerror = () => { img.src = `https://placehold.co/400x300/00AEEF/FFFFFF?text=Event`};
                item.appendChild(img);
                galleryTrack.appendChild(item);
                galleryItems.push(item);
                totalWidth += itemWidth + itemMargin;
            });

            let isDown = false;
            let startX;
            let currentX = 0;
            let targetX = 0;
            let velocity = 0;
            const damping = 0.95;
            const dragFactor = 1.5;

            // Set initial position to center the track
            const initialOffset = totalWidth / 2 - (itemWidth / 2 + itemMargin / 2);
            targetX = initialOffset;
            currentX = initialOffset;

            galleryContainer.addEventListener('mousedown', (e) => {
                isDown = true;
                startX = e.pageX;
                galleryContainer.style.cursor = 'grabbing';
            });

            window.addEventListener('mouseup', () => {
                isDown = false;
                galleryContainer.style.cursor = 'grab';
            });
            
            window.addEventListener('mouseleave', () => {
                isDown = false;
                galleryContainer.style.cursor = 'grab';
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX;
                const walk = (x - startX) * dragFactor;
                targetX -= walk;
                velocity = -walk;
                startX = x;
            });
            
            function animateGallery() {
                if (!isDown) {
                    velocity *= damping;
                    targetX += velocity;
                }
                
                currentX += (targetX - currentX) * 0.1;
                
                galleryTrack.style.transform = `translateX(${-currentX}px)`;

                const containerCenter = galleryContainer.getBoundingClientRect().left + galleryContainer.clientWidth / 2;

                galleryItems.forEach(item => {
                    const itemRect = item.getBoundingClientRect();
                    const itemCenter = itemRect.left + itemRect.width / 2;
                    const distance = Math.abs(containerCenter - itemCenter);
                    
                    const scale = Math.max(1 - (distance / (galleryContainer.clientWidth / 2)) * 0.4, 0.5);
                    const opacity = Math.max(1 - (distance / (galleryContainer.clientWidth / 2)) * 0.8, 0.2);
                    const rotation = (itemCenter - containerCenter) / 20;
                    
                    item.style.transform = `scale(${scale}) rotateY(${rotation}deg)`;
                    item.style.opacity = opacity;
                });

                requestAnimationFrame(animateGallery);
            }
            animateGallery();
        }

    </script>

</body>
</html>
